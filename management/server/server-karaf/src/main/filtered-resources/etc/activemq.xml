<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:amq="http://activemq.apache.org/schema/core"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
         http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd">


    <amq:broker useJmx="true" persistent="false" brokerName="sol" start="true" >
 
        <amq:sslContext>
            <amq:sslContext
                keyStore="${karaf.base}/certs/broker.ks" keyStorePassword="broker"
                trustStore="${karaf.base}/certs/broker.ts" trustStorePassword="client"/>
        </amq:sslContext>
 
        <amq:transportConnectors>
            <amq:transportConnector name="ssl" uri="ssl://0.0.0.0:61616?needClientAuth=true" />
        </amq:transportConnectors>
 
    </amq:broker>
</beans>
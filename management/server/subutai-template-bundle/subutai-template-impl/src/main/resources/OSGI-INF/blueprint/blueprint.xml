<blueprint xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"

           xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd"
    >
  <reference id="emf" interface="javax.persistence.EntityManagerFactory" filter="(osgi.unit.name=templateUnit)" />

  <bean id="personServiceBean" class="org.safehaus.subutai.common.protocol.impl.TemplateServiceImpl">
    <property ref="emf" name="entityManagerFactory" />
  </bean>

  <service ref="personServiceBean"
           interface="org.safehaus.subutai.common.protocol.service.TemplateService" />

  <bean id="dataSource" class="org.h2.jdbcx.JdbcDataSource">
    <property name="URL" value="jdbc:h2:/root/db/templatesDB" />
    <property name="user" value="sa" />
    <property name="password" value="" />
  </bean>

  <service interface="javax.sql.DataSource" ref="dataSource">
    <service-properties>
      <entry key="osgi.jndi.service.name" value="openjpa/templateInterface" />
    </service-properties>
  </service>
</blueprint>
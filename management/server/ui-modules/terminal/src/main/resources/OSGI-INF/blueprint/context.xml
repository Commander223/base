<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">
    <!-- <reference-list id="moduleService" availability="mandatory" interface="org.safehaus.kiskis.mgmt.server.ui.services.ModuleService">
         <reference-listener
                 bind-method="setModuleService" unbind-method="unsetModuleService">
             <bean class="org.safehaus.kiskis.mgmt.server.ui.modules.Terminal"/>
         </reference-listener>
     </reference-list>-->
    <bean id="terminalModule" class="org.safehaus.kiskis.mgmt.server.ui.modules.Terminal"/>
    <reference-list id="moduleService" availability="mandatory"
                    interface="org.safehaus.kiskis.mgmt.server.ui.services.ModuleService">
        <reference-listener
                bind-method="setModuleService" unbind-method="unsetModuleService" ref="terminalModule"/>
    </reference-list>

    <reference-list id="commandManagerService" availability="mandatory"
                    interface="org.safehaus.kiskis.mgmt.shared.protocol.api.CommandManagerInterface">
        <reference-listener
                bind-method="setCommandManagerService" ref="terminalModule"/>
    </reference-list>

    <!--<reference id="commandManagerService" availability="mandatory"
               interface="org.safehaus.kiskis.mgmt.shared.protocol.api.CommandManagerInterface"/>
    <reference id="moduleService" availability="mandatory"
               interface="org.safehaus.kiskis.mgmt.server.ui.services.ModuleService"/>

    <bean id="terminalModule" class="org.safehaus.kiskis.mgmt.server.ui.modules.Terminal"
          destroy-method="unsetModuleService">
        <property name="commandManagerService" ref="commandManagerService"/>
        <property name="moduleService" ref="moduleService"/>
    </bean>

    <service ref="terminalModule"
             interface="org.safehaus.kiskis.mgmt.server.ui.modules.Terminal"
             ranking="4">
        <service-properties>
            &lt;!&ndash; This property is only important for the DOSGi tutorial &ndash;&gt;
            <entry key="service.exported.interfaces" value="*"/>
        </service-properties>
    </service>-->
</blueprint>

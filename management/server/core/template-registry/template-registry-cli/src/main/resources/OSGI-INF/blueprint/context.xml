<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

  <reference id="templateRegistry" availability="mandatory"
             interface="org.safehaus.subutai.core.registry.api.TemplateRegistry" />

  <reference id="peerManager" availability="mandatory"
             interface="org.safehaus.subutai.core.peer.api.PeerManager" />

  <command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0">
    <command name="registry/get-template">
      <action class="org.safehaus.subutai.core.registry.cli.GetTemplateCommand">
        <property name="templateRegistry" ref="templateRegistry" />
      </action>
    </command>
  </command-bundle>

  <command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0">
    <command name="registry/register-template">
      <action class="org.safehaus.subutai.core.registry.cli.RegisterTemplateCommand">
        <property name="templateRegistry" ref="templateRegistry" />
        <property name="peerManager" ref="peerManager" />
      </action>
    </command>
  </command-bundle>

  <command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0">
    <command name="registry/get-child-templates">
      <action class="org.safehaus.subutai.core.registry.cli.GetChildTemplatesCommand">
        <property name="templateRegistry" ref="templateRegistry" />
      </action>
    </command>
  </command-bundle>

  <command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0">
    <command name="registry/get-parent-template">
      <action class="org.safehaus.subutai.core.registry.cli.GetParentTemplateCommand">
        <property name="templateRegistry" ref="templateRegistry" />
      </action>
    </command>
  </command-bundle>

  <command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0">
    <command name="registry/unregister-template">
      <action class="org.safehaus.subutai.core.registry.cli.UnregisterTemplateCommand">
        <property name="templateRegistry" ref="templateRegistry" />
      </action>
    </command>
  </command-bundle>

  <command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0">
    <command name="registry/list-template-tree">
      <action class="org.safehaus.subutai.core.registry.cli.ListTemplateTreeCommand">
        <property name="templateRegistry" ref="templateRegistry" />
      </action>
    </command>
  </command-bundle>

  <command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0">
    <command name="registry/list-templates">
      <action class="org.safehaus.subutai.core.registry.cli.ListTemplatesCommand">
        <property name="templateRegistry" ref="templateRegistry" />
      </action>
    </command>
  </command-bundle>

  <command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0">
    <command name="registry/get-parent-templates">
      <action class="org.safehaus.subutai.core.registry.cli.GetParentTemplatesCommand">
        <property name="templateRegistry" ref="templateRegistry" />
      </action>
    </command>
  </command-bundle>

</blueprint>

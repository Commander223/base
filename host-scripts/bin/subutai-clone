#!/bin/bash

. /etc/subutai/config

parent=$1
child=$2

function usage {
  echo -----------------------------------------------------------------------
  echo Usage: Clone a new non-existant child from an existing parent container.
  echo
  echo "	"subutai-clone parent child
  echo
  echo -----------------------------------------------------------------------
}

. /etc/subutai/functionz

clone_lxc $parent $child "`usage`"

lxc-start -d -n $child
lxc-wait -n $child -s RUNNING
lxc-attach -n $child -- git checkout -b $child

msg_ok "Successfully cloned $child container from $parent"

